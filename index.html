<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù„Ù‰ Ø¬Ø§Ø¦Ø²Ø© ØªØ·Ø¨ÙŠÙ‚ Ø´ÙÙÙ„ÙŠ</title>

  <!-- Ø®Ø· Ø¹Ø±Ø¨ÙŠ ÙˆØ¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ù„Ø·ÙŠÙ -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Tajawal", system-ui, -apple-system, BlinkMacSystemFont;
      background: radial-gradient(circle at top, #283593, #05081a);
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
    }

    .app {
      width: 100%;
      max-width: 900px;
      background: linear-gradient(145deg, #0c1630, #07101f);
      border-radius: 24px;
      padding: 20px 18px 22px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.65);
      border: 1px solid rgba(255, 255, 255, 0.06);
      position: relative;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
      gap: 8px;
    }

    .title-box {
      padding: 10px 14px;
      border-radius: 18px;
      background: linear-gradient(135deg, #123264, #081b39);
      border: 1px solid rgba(255, 255, 255, 0.08);
      flex: 1;
    }

    .title-box h1 {
      font-size: 18px;
      font-weight: 700;
      text-align: center;
      color: #fdfdfd;
      letter-spacing: 0.5px;
    }

    .logo-wrap {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.45);
      flex-shrink: 0;
      overflow: hidden;
    }

    .logo-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .section-title {
      font-size: 16px;
      margin-bottom: 6px;
      color: #e9f1ff;
      font-weight: 600;
    }

    .names-box {
      background: #050a18;
      border-radius: 18px;
      padding: 10px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      margin-bottom: 14px;
      max-height: 260px;
      overflow-y: auto;
    }

    .names-box pre {
      white-space: pre-wrap;
      font-family: "Tajawal", system-ui, -apple-system, BlinkMacSystemFont;
      line-height: 1.55;
      font-size: 14px;
      color: #e3eeff;
    }

    .controls-row {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 10px;
      margin-bottom: 10px;
    }

    .input-wrap {
      display: flex;
      gap: 6px;
    }

    input[type="text"] {
      flex: 1;
      padding: 9px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.22);
      background: rgba(2, 8, 24, 0.92);
      color: #f7f7f7;
      font-family: "Tajawal", system-ui;
      font-size: 13px;
      outline: none;
    }

    input[type="text"]::placeholder {
      color: #8089a5;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 9px 14px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      font-family: "Tajawal", system-ui;
      transition: transform 0.15s, box-shadow 0.15s, opacity 0.15s;
      white-space: nowrap;
    }

    .btn:active {
      transform: scale(0.96);
      box-shadow: none;
    }

    .btn-primary {
      background: linear-gradient(135deg, #3f8cff, #3575ff);
      color: #fff;
      box-shadow: 0 8px 20px rgba(63, 140, 255, 0.4);
    }

    .btn-secondary {
      background: transparent;
      color: #ffcc80;
      border: 1px solid #ffcc80;
      box-shadow: 0 6px 14px rgba(255, 204, 128, 0.25);
    }

    .btn-muted {
      background: #141b2c;
      color: #c7d2ff;
      border: 1px solid rgba(255, 255, 255, 0.14);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.4);
    }

    .btn[disabled] {
      opacity: 0.45;
      cursor: default;
      box-shadow: none;
    }

    .search-row {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 10px;
      margin-bottom: 14px;
    }

    .result-box {
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 18px;
      background: #050a18;
      border: 1px solid rgba(129, 199, 132, 0.5);
    }

    .result-title {
      font-size: 14px;
      margin-bottom: 4px;
      color: #d1e8ff;
      font-weight: 600;
    }

    .current-winner {
      font-size: 17px;
      color: #fff59d;
      font-weight: 700;
      text-align: center;
      min-height: 28px;
      margin-bottom: 8px;
    }

    .final-winners {
      margin-top: 4px;
      font-size: 14px;
      color: #a5ffb3;
      line-height: 1.6;
    }

    .final-winners span {
      display: block;
      margin-top: 2px;
    }

    .badge {
      display: inline-block;
      padding: 2px 10px;
      border-radius: 999px;
      background: rgba(33, 150, 243, 0.15);
      color: #90caf9;
      font-size: 12px;
      margin-bottom: 4px;
    }

    @media (max-width: 640px) {
      .controls-row,
      .search-row {
        grid-template-columns: 1fr;
      }

      .title-box h1 {
        font-size: 16px;
      }

      .logo-wrap {
        width: 62px;
        height: 62px;
      }

      .names-box {
        max-height: 220px;
      }
    }
  </style>
</head>
<body>

<div class="app">
  <div class="header">
    <div class="title-box">
      <h1>Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„Ù…Ù‚Ø¯Ù‘Ù…Ø© Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø´ÙÙÙ„ÙŠ ğŸ</h1>
    </div>
    <div class="logo-wrap">
      <img src="https://i.postimg.cc/3JcgH4nG/20250531-135725-FF5FD6EA-7CFD-497A-8DAC-AB0A6C0BE816.png" alt="Ø´ÙÙÙ„ÙŠ">
    </div>
  </div>

  <div class="badge">Ù„ÙˆØ­Ø© Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø±Ø³Ù…ÙŠØ©</div>

  <p class="section-title">ÙƒÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†:</p>
  <div class="names-box">
    <pre id="namesList"></pre>
  </div>

  <!-- Ø¥Ø®ÙØ§Ø¡ Ø§Ø³Ù… / ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙØ§Ø¦Ø² -->
  <div class="controls-row">
    <div class="input-wrap">
      <input id="hideInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… ØªØ±ÙŠØ¯ Ø¥Ø®ÙØ§Ø¡Ù‡ Ù…Ù† Ø§Ù„Ø³Ø­Ø¨" />
      <button class="btn btn-secondary" id="hideBtn">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø§Ø³Ù…</button>
    </div>
    <button class="btn btn-primary" id="drawBtn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø³Ø­Ø¨ (Ø­ØªÙ‰ Ù¥ ÙØ§Ø¦Ø²ÙŠÙ†)</button>
  </div>

  <!-- Ø¨Ø­Ø« -->
  <div class="search-row">
    <div class="input-wrap">
      <input id="searchInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ù„Ù„Ø¨Ø­Ø« Ø¹Ù†Ù‡ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©" />
      <button class="btn btn-muted" id="searchBtn">Ø¨Ø­Ø«</button>
    </div>
    <button class="btn btn-muted" id="scrollTopBtn">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡</button>
  </div>

  <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
  <div class="result-box">
    <p class="result-title">Ø§Ù„Ù†ØªÙŠØ¬Ø©:</p>
    <div id="currentWinner" class="current-winner">â€” Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø³Ø­Ø¨ Ø¨Ø¹Ø¯ â€”</div>
    <div id="finalWinners" class="final-winners"></div>
  </div>
</div>

<script>
  // ---------------- Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ† ----------------
  const arabicBase = [
    "Ø¹Ù…Ø± Ø§Ù„Ø®Ø·ÙŠØ¨",
    "Ù†ÙˆØ± Ù…Ø­Ù…Ø¯",
    "Ø³Ø§Ù…ÙŠ Ø§Ù„Ù…Ø­Ù…Ø¯",
    "Ø±Ø§Ù…ÙŠ Ø§Ù„ØµØ§Ù„Ø­",
    "Ù…Ø±ÙˆØ§Ù† Ø§Ù„Ù‚ÙŠØ³ÙŠ",
    "Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¯ÙŠØ±ÙŠ",
    "Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø´Ø§Ù…ÙŠ",
    "Ù‚ØµÙŠ Ø§Ù„Ø¹Ù„ÙŠ",
    "ÙØ§Ø¯ÙŠ Ø§Ù„Ù†Ø¬Ø§Ø±",
    "Ø®Ø§Ù„Ø¯ Ø§Ù„Ø­Ù…ÙˆÙŠ",
    "Ø­Ø³ÙŠÙ† Ø§Ù„Ø®Ø·ÙŠØ¨",
    "Ù„ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø¯",
    "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù„ÙŠ",
    "Ù„Ø§Ù†Ø§ Ø§Ù„Ø®Ø·ÙŠØ¨",
    "Ù…Ø­Ù…Ø¯ Ø¹Ù…Ø±",
    "ÙŠØ­ÙŠÙ‰ Ø§Ù„Ø­Ø³Ù†",
    "Ø±Ø´Ø§ Ø§Ù„Ù…Ø­Ù…Ø¯",
    "Ø±Ù‡Ù Ø§Ù„Ø®Ø§Ù„Ø¯",
    "Ø¨Ø´Ø§Ø± Ø¯Ø±ÙˆÙŠØ´",
    "Ø¥ÙŠØ§Ø¯ Ø§Ù„Ø­Ù…ÙˆØ¯"
  ];

  const foreignBase = [
    "Laura Martin",
    "John Smith",
    "Michael Brown",
    "Sarah Johnson",
    "Emily Davis",
    "David Miller",
    "Daniel Wilson",
    "James Anderson",
    "Olivia Taylor",
    "Sophia Moore",
    "Liam Thompson",
    "Noah White",
    "Mason Harris",
    "Isabella Lee",
    "Mia Clark",
    "Charlotte Lewis",
    "Lucas Walker",
    "Benjamin Hall",
    "Henry Allen",
    "Jacob Young"
  ];

  const emojis = ["ğŸ‰","ğŸ¥³","ğŸ”¥","â­","ğŸ’¥","ğŸ¤£","ğŸ˜","ğŸ˜","ğŸ’°","ğŸ†","ğŸ‘","âœ¨","ğŸŠ"];

  let participants = [];

  // Ø£Ø¶Ù Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¹Ø¯Ø© Ù…Ø±Ø§Øª
  for (let i = 0; i < 4000; i++) {
    const name = arabicBase[i % arabicBase.length];
    participants.push(name);
  }

  // Ù¢Ù Ù Ù  Ø§Ø³Ù… Ø£Ø¬Ù†Ø¨ÙŠ
  for (let i = 0; i < 2000; i++) {
    const base = foreignBase[i % foreignBase.length];
    const number = Math.floor(i / foreignBase.length) + 1;
    participants.push(base + " " + number);
  }

  // Ø£ÙƒÙ…Ù„ Ø­ØªÙ‰ Ù†ØµÙ„ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ Ù„Ù€ Ù¡Ù  Ø¢Ù„Ø§Ù Ø§Ø³Ù…
  while (participants.length < 10000) {
    participants.push(arabicBase[participants.length % arabicBase.length] + " " + (participants.length + 1));
  }

  // Ø§Ø®ØªÙØ± Ù¡Ù Ù Ù  Ø§Ø³Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙˆØ¶Ø¹ Ø¹Ù„ÙŠÙ‡Ù… Ø¥ÙŠÙ…ÙˆØ¬ÙŠØ§Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ©
  const emojiIndices = new Set();
  while (emojiIndices.size < 1000) {
    emojiIndices.add(Math.floor(Math.random() * participants.length));
  }

  function decorateWithEmojis(name) {
    const count = 1 + Math.floor(Math.random() * 3); // Ù…Ù† Ù¡ Ø¥Ù„Ù‰ Ù£ Ø¥ÙŠÙ…ÙˆØ¬ÙŠØ§Øª
    let chosen = "";
    for (let i = 0; i < count; i++) {
      chosen += emojis[Math.floor(Math.random() * emojis.length)] + " ";
    }
    if (Math.random() < 0.4) {
      // ÙˆØ³Ø· Ø§Ù„Ø§Ø³Ù…
      const parts = name.split(" ");
      const mid = Math.max(1, Math.floor(parts.length / 2));
      parts.splice(mid, 0, chosen.trim());
      return parts.join(" ");
    } else if (Math.random() < 0.7) {
      // Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³Ù…
      return name + " " + chosen.trim();
    } else {
      // Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³Ù…
      return chosen.trim() + " " + name;
    }
  }

  emojiIndices.forEach(i => {
    participants[i] = decorateWithEmojis(participants[i]);
  });

  // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
  const namesListEl = document.getElementById("namesList");
  function renderNames() {
    namesListEl.textContent = participants.join("\n");
  }
  renderNames();

  // ---------------- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¥Ø®ÙØ§Ø¡ ----------------
  const hideInput = document.getElementById("hideInput");
  const hideBtn = document.getElementById("hideBtn");

  hideBtn.addEventListener("click", () => {
    const text = hideInput.value.trim();
    if (!text) return;

    const index = participants.findIndex(n => n.includes(text));
    if (index !== -1) {
      participants.splice(index, 1);
      renderNames();
      alert("ØªÙ… Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø§Ø³Ù… Ù…Ù† Ø§Ù„Ø³Ø­Ø¨ âœ…");
    } else {
      alert("Ø§Ù„Ø§Ø³Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.");
    }
    hideInput.value = "";
  });

  // ---------------- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø­Ø« ----------------
  const searchInput = document.getElementById("searchInput");
  const searchBtn = document.getElementById("searchBtn");
  const scrollTopBtn = document.getElementById("scrollTopBtn");

  searchBtn.addEventListener("click", () => {
    const q = searchInput.value.trim();
    if (!q) return;
    const index = participants.findIndex(n => n.includes(q));
    if (index === -1) {
      alert("Ø§Ù„Ø§Ø³Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†.");
      return;
    }
    // Ù†Ø¹Ø±Ø¶ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø­ÙˆÙ„ Ø§Ù„Ø§Ø³Ù…
    const start = Math.max(0, index - 10);
    const end = Math.min(participants.length, index + 10);
    const slice = participants.slice(start, end);
    namesListEl.textContent = slice.join("\n");
  });

  scrollTopBtn.addEventListener("click", () => {
    renderNames();
    namesBoxScrollTop();
  });

  function namesBoxScrollTop() {
    const box = document.querySelector(".names-box");
    if (box) box.scrollTop = 0;
  }

  // ---------------- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø³Ø­Ø¨ ----------------
  const drawBtn = document.getElementById("drawBtn");
  const currentWinnerEl = document.getElementById("currentWinner");
  const finalWinnersEl = document.getElementById("finalWinners");

  let isDrawing = false;
  let winners = [];
  const MAX_WINNERS = 5;

  function startDraw() {
    if (isDrawing) return;
    if (winners.length >= MAX_WINNERS) {
      alert("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ÙƒÙ„ Ø§Ù„ÙØ§Ø¦Ø²ÙŠÙ† Ø§Ù„Ø®Ù…Ø³Ø© âœ…");
      return;
    }
    if (participants.length === 0) {
      alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø´ØªØ±ÙƒÙŠÙ† ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©!");
      return;
    }

    isDrawing = true;
    drawBtn.disabled = true;

    const duration = 10000; // Ù¡Ù  Ø«ÙˆØ§Ù†ÙŠ
    const intervalTime = 50; // Ø³Ø±Ø¹Ø© ØªÙ‚Ù„ÙŠØ¨ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
    let elapsed = 0;
    let lastIndex = 0;

    const interval = setInterval(() => {
      lastIndex = Math.floor(Math.random() * participants.length);
      const name = participants[lastIndex];
      currentWinnerEl.textContent = name;
      elapsed += intervalTime;

      if (elapsed >= duration) {
        clearInterval(interval);
        finalizeWinner(lastIndex);
      }
    }, intervalTime);
  }

  function finalizeWinner(index) {
    const winner = participants[index];
    participants.splice(index, 1); // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙØ§Ø¦Ø² Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    renderNames();

    winners.push(winner);

    const winnerNumber = winners.length;
    const line = document.createElement("span");
    line.textContent = `ğŸ† Ø§Ù„ÙØ§Ø¦Ø² Ø±Ù‚Ù… ${winnerNumber}: ${winner} â€“ Ù…Ø¨Ø±ÙˆÙƒ! ğŸ‰`;
    finalWinnersEl.appendChild(line);

    currentWinnerEl.textContent = `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ Ù„Ù„ÙØ§Ø¦Ø² Ø±Ù‚Ù… ${winnerNumber}!`;

    if (winners.length >= MAX_WINNERS) {
      drawBtn.disabled = true;
      drawBtn.textContent = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø³Ø­Ø¨ (Ù¥ ÙØ§Ø¦Ø²ÙŠÙ†)";
    } else {
      drawBtn.disabled = false;
    }

    isDrawing = false;
  }

  drawBtn.addEventListener("click", startDraw);
</script>

</body>
</html>
